/*
The Gerani Engine a funny ajax display engine based on jQuery for my Fab Academy Site.
Pral2a, 2011. hi@pral2a.com
Source avaible. Optimized with The Closure Compiler by Google.
Creative Commons Attribution-Share Alike 3.0
*/
$(document).ready(function(){$.ajaxSetup({cache:false});$("#window").draggable();$("#menu").change(function(){function c(){$(".loadbar").animate({width:"200px"},1E3)}function d(){$("img").each(function(){$(this).attr("src");var a="content/"+e+"/"+$(this).attr("src");$(this).attr("src",a)})}var e,b;$(".loadbar").animate({width:"0px"},200);$("#state option").attr("selected","");b=$("#pages").attr("selectedIndex");$("#state option:eq("+b+")").attr("selected","selected");$("#pages option:selected").each(function(){e=
$(this).val();title=$(this).text()});$("#section option:selected").each(function(){section=$(this).val()});b="content/"+e+"/"+e+".html";if(section=="img")$.get(b,function(a){a=$(a).filter("img");c();$("#content").html(a);d()});else if(section=="code")$.get(b,function(a){a=$(a).filter("code");c();$("#content").html(a);d()});else if(section=="text")$.get(b,function(a){a=$(a).filter("p");c();$("#content").html(a);d()});else if(section=="links")$.get(b,function(a){a=$(a).filter("a");c();$("#content").html(a);
d()});else{if(section!="all")b=b+" #"+section;$("#content").load(b,function(){c();d()})}$("#content").text("UNABLE TO FIND CONTENT TO DISPLAY");window.location.hash=e;b="http://academy.cba.mit.edu/labs/barcelona/guillem.camprodon/"+b;b="<a href="+b+">"+b+"</a>";$("#title").text(title);$("#url").html(b);$("#section-title").text(section)}).trigger("change")});
